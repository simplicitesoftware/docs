Version 6.2 release note
========================

> **Warning**: This release note corresponds to a development **ALPHA** stage platform, it will be regularly amended

Compatibility breaking changes <span id="compatbreakingchanges"></span>
-----------------------------------------------------------------------

- Nothing so far...

Core changes <span id="changes"></span>
---------------------------------------

- New action to anonymize a user
	- with options to sanitize the user (infos, rights, preferences and social interactions)
	- extendable with a new PlatformHooks `anonymizeUser`

![](anon.png)
	
```java
/**
 * Anonymize a user
 * @param login user login to sanitize
 * @param rights true to delete all user's responsibilities
 * @param prefs true to delete all user's preferences (user filters, searches, parameters)
 * @param social true to delete all interactions (social, alert, notif)
 * @param randomizedLogin optional value to randomize the login everywhere in DB (timestamps, sessions history, redolog...)
 */
@Override
public Message anonymizeUser(String login, boolean rights, boolean prefs, boolean social, String randomizedLogin) {
	// sanitize the user infos, rights, preferences and social interactions
	Message m = super.anonymizeUser(login, rights, prefs, social, randomizedLogin);
	if (m.isOk()) {
		// add custom anonymization here in your business objects...
	}
	else {
		// denied
	}
	return m;
}
```

- Backend message always in a JSON format, no more formatted message with hashtags "#"
	- APIs `Message.formatXXX` will now return JSON messages
	- JSONs are serialized to String to be compatible with returns of java hook (pre/postValidate, pre/postSave...)
	- Legacy format with "#" is still supported but deprecated (`code:text#level#field`).
	- It is strongly recommended to change/use one of the `Message.formatXXX` to format a message (on validate, save...)

```json
{
	code: "MY_ERROR_CODE", // static TEXT to be translated on UI
	text: "optional additional text in user language",
	field: "myField", // optional related field on UI
	level: "ERROR", // TEXT, INFO, WARNING, ERROR
	actions: [{ action definition }...], // optional list of call to actions
	params: { suggest: "Suggested value" } // optional suggestion of syntax
}
```


UI changes <span id="uichanges"></span>
---------------------------------------

- Nothing so far...
